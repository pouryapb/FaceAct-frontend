{"version":3,"sources":["Context/auth-context.jsx","Pages/SignIn.jsx","Pages/SignUp.jsx","Components/Post.jsx","Components/Compose.jsx","Pages/Feeds.jsx","Pages/Search.jsx","Pages/Profile.jsx","Pages/Settings.jsx","Pages/Home.jsx","App.jsx","index.js"],"names":["AuthContext","React","createContext","AuthProvider","children","useState","token","setToken","userId","setUserId","ip","localToken","window","localStorage","getItem","localId","Provider","value","login","setItem","logout","clear","useStyles","makeStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","backgroundColor","palette","secondary","main","form","width","submit","Copyright","Typography","variant","color","align","Link","component","RouterLink","to","Date","getFullYear","SignIn","classes","username","setUsrname","password","setPassword","snackOpen","setOpen","severity","setSeverity","alertMsg","setAlertMsg","useContext","snackClose","Container","maxWidth","Snackbar","anchorOrigin","vertical","horizontal","open","autoHideDuration","onClose","Alert","elevation","CssBaseline","className","Avatar","noValidate","onSubmit","event","preventDefault","requestBody","fetch","method","headers","body","JSON","stringify","then","res","status","Error","json","resBody","catch","err","console","log","TextField","required","fullWidth","id","label","name","autoComplete","autoFocus","onChange","target","type","Button","Grid","container","item","xs","href","Box","mt","SignUp","firstName","setFirstName","lastName","setLastName","email","setEmail","sm","justify","root","marginBottom","red","Post","avatarImage","authorName","postDate","media","mediaType","caption","liked","likeCount","updater","like","setLike","menuAnchor","setMenuAnchor","count","setCount","handleMenuClose","Card","CardHeader","alt","src","action","Fragment","IconButton","aria-label","aria-controls","aria-haspopup","onClick","currentTarget","MoreVert","Menu","anchorEl","keepMounted","Boolean","PaperProps","style","MenuItem","selected","Authorization","title","subheader","toLocaleString","undefined","dateStyle","timeStyle","hourCycle","Divider","CardMedia","controls","CardContent","CardActions","disableSpacing","Favorite","textfield","marginLeft","input","Compose","setCaption","activeSend","setActiveSend","file","setFile","fileSrc","setFileSrc","reader","FileReader","split","placeholder","multiline","accept","selectedFile","files","onload","result","readAsDataURL","htmlFor","AttachFile","formData","FormData","append","disabled","endIcon","Send","Feeds","posts","setPosts","length","cards","map","post","_id","date","mediatype","text","likes","includes","height","marginRight","button","justifyContent","Items","link","image","RequestItems","paddingLeft","Search","searchValue","setSearchValue","list","setList","reqs","setReqs","setTimeout","requests","user","index","boxShadow","gridItem","textAlign","cursor","fontSize","recent","setInterval","Profile","match","setAvatar","setName","follower","setFollower","following","setFollowing","followingState","setFollowingState","followingMenuAnchor","setFollowingMenuAnchor","followerMenuAnchor","setFollowerMenuAnchor","fetchData","params","followers","followings","listOfPosts","underline","minWidth","element","unfriend","req","unreq","Settings","paddingBottom","propName","flexGrow","tab","tabRoot","IconLabelTabs","setValue","pages","Paper","Tabs","newValue","indicatorColor","textColor","Tab","icon","Home","createMuiTheme","App","ThemeProvider","basename","from","exact","path","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.4ba85e70.chunk.js","sourcesContent":["import React, { useState } from \"react\";\r\n\r\nexport const AuthContext = React.createContext(null);\r\n\r\nconst AuthProvider = ({ children }) => {\r\n  const [token, setToken] = useState(null);\r\n  const [userId, setUserId] = useState(null);\r\n  const [ip] = useState(\"https://murmuring-coast-29701.herokuapp.com/\");\r\n\r\n  const localToken = window.localStorage.getItem(\"token\");\r\n  const localId = window.localStorage.getItem(\"userId\");\r\n\r\n  if (localToken && !token) {\r\n    setToken(localToken);\r\n    setUserId(localId);\r\n  }\r\n\r\n  const login = (token, userId) => {\r\n    setToken(token);\r\n    setUserId(userId);\r\n\r\n    window.localStorage.setItem(\"token\", token);\r\n    window.localStorage.setItem(\"userId\", userId);\r\n  };\r\n  const logout = () => {\r\n    setToken(null);\r\n    setUserId(null);\r\n\r\n    window.localStorage.clear();\r\n  };\r\n\r\n  return (\r\n    <AuthContext.Provider\r\n      value={{\r\n        token,\r\n        userId,\r\n        ip,\r\n        login,\r\n        logout,\r\n      }}\r\n    >\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\nexport default AuthProvider;\r\n","import React, { useContext, useState } from \"react\";\r\nimport {\r\n  Avatar,\r\n  Button,\r\n  CssBaseline,\r\n  TextField,\r\n  //FormControlLabel,\r\n  //Checkbox,\r\n  Link,\r\n  Grid,\r\n  Box,\r\n  Typography,\r\n  makeStyles,\r\n  Container,\r\n  Snackbar,\r\n} from \"@material-ui/core\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport { Link as RouterLink } from \"react-router-dom\";\r\nimport { Alert } from \"@material-ui/lab\";\r\n\r\nimport { AuthContext } from \"../Context/auth-context\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: \"100%\", // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nconst Copyright = () => {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {\"Copyright © \"}\r\n      <Link component={RouterLink} color=\"inherit\" to=\"/\">\r\n        FaceAct\r\n      </Link>{\" \"}\r\n      {new Date().getFullYear()}\r\n      {\".\"}\r\n    </Typography>\r\n  );\r\n};\r\n\r\nconst SignIn = () => {\r\n  const classes = useStyles();\r\n\r\n  const [username, setUsrname] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [snackOpen, setOpen] = useState(false);\r\n  const [severity, setSeverity] = useState(\"\");\r\n  const [alertMsg, setAlertMsg] = useState(\"\");\r\n\r\n  const { login, ip } = useContext(AuthContext);\r\n\r\n  const submitHandler = (event) => {\r\n    event.preventDefault();\r\n    if (username === \"\" || password === \"\") {\r\n      setSeverity(\"warning\");\r\n      setAlertMsg(\"Please fill the required fields.\");\r\n      setOpen(true);\r\n      return;\r\n    }\r\n\r\n    const requestBody = {\r\n      username: username,\r\n      password: password,\r\n    };\r\n\r\n    fetch(ip + \"/login\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(requestBody),\r\n    })\r\n      .then((res) => {\r\n        if (!(res.status === 200 || res.status === 201)) {\r\n          setSeverity(\"error\");\r\n          setAlertMsg(\"Auth failed!\");\r\n          setOpen(true);\r\n          throw new Error(\"failed!\");\r\n        }\r\n        return res.json();\r\n      })\r\n      .then((resBody) => {\r\n        setSeverity(\"success\");\r\n        setAlertMsg(\"User successfuly created.\");\r\n        setOpen(true);\r\n        login(resBody.token, username);\r\n      })\r\n      .catch((err) => {\r\n        setSeverity(\"error\");\r\n        setAlertMsg(\"Auth failed!\");\r\n        setOpen(true);\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const snackClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <Snackbar\r\n        anchorOrigin={{ vertical: \"bottom\", horizontal: \"left\" }}\r\n        open={snackOpen}\r\n        autoHideDuration={3000}\r\n        onClose={snackClose}\r\n      >\r\n        <Alert\r\n          elevation={6}\r\n          variant=\"filled\"\r\n          onClose={snackClose}\r\n          severity={severity}\r\n        >\r\n          {alertMsg}\r\n        </Alert>\r\n      </Snackbar>\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Avatar className={classes.avatar}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Sign in\r\n        </Typography>\r\n        <form className={classes.form} noValidate onSubmit={submitHandler}>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            id=\"useename\"\r\n            label=\"Username\"\r\n            name=\"username\"\r\n            autoComplete=\"username\"\r\n            autoFocus\r\n            value={username}\r\n            onChange={(event) => {\r\n              setUsrname(event.target.value);\r\n            }}\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            name=\"password\"\r\n            label=\"Password\"\r\n            type=\"password\"\r\n            id=\"password\"\r\n            autoComplete=\"current-password\"\r\n            value={password}\r\n            onChange={(event) => {\r\n              setPassword(event.target.value);\r\n            }}\r\n          />\r\n          {/* <FormControlLabel\r\n            control={<Checkbox value=\"remember\" color=\"primary\" />}\r\n            label=\"Remember me\"\r\n          /> */}\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.submit}\r\n          >\r\n            Sign In\r\n          </Button>\r\n          <Grid container>\r\n            <Grid item xs>\r\n              <Link href=\"#\" variant=\"body2\">\r\n                Forgot password?\r\n              </Link>\r\n            </Grid>\r\n            <Grid item>\r\n              <Link component={RouterLink} to=\"/signup\" variant=\"body2\">\r\n                {\"Don't have an account? Sign Up\"}\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n      </div>\r\n      <Box mt={8}>\r\n        <Copyright />\r\n      </Box>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default SignIn;\r\n","import React, { useContext, useState } from \"react\";\r\nimport {\r\n  Avatar,\r\n  Button,\r\n  CssBaseline,\r\n  TextField,\r\n  //   FormControlLabel,\r\n  //   Checkbox,\r\n  Link,\r\n  Grid,\r\n  Box,\r\n  Typography,\r\n  makeStyles,\r\n  Container,\r\n  Snackbar,\r\n} from \"@material-ui/core\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport { Link as RouterLink } from \"react-router-dom\";\r\nimport { Alert } from \"@material-ui/lab\";\r\n\r\nimport { AuthContext } from \"../Context/auth-context\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: \"100%\", // Fix IE 11 issue.\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\nconst Copyright = () => {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {\"Copyright © \"}\r\n      <Link component={RouterLink} color=\"inherit\" to=\"/\">\r\n        FaceAct\r\n      </Link>{\" \"}\r\n      {new Date().getFullYear()}\r\n      {\".\"}\r\n    </Typography>\r\n  );\r\n};\r\n\r\nconst SignUp = () => {\r\n  const classes = useStyles();\r\n\r\n  const { ip } = useContext(AuthContext);\r\n\r\n  const [firstName, setFirstName] = useState(\"\");\r\n  const [lastName, setLastName] = useState(\"\");\r\n  const [username, setUsrname] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [snackOpen, setOpen] = useState(false);\r\n  const [severity, setSeverity] = useState(\"\");\r\n  const [alertMsg, setAlertMsg] = useState(\"\");\r\n\r\n  const snackClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const submitHandler = (event) => {\r\n    event.preventDefault();\r\n    if (\r\n      firstName === \"\" ||\r\n      lastName === \"\" ||\r\n      username === \"\" ||\r\n      email === \"\" ||\r\n      password === \"\"\r\n    ) {\r\n      setSeverity(\"warning\");\r\n      setAlertMsg(\"Please fill the required fields.\");\r\n      setOpen(true);\r\n      return;\r\n    }\r\n\r\n    const requestBody = {\r\n      username: username,\r\n      firstName: firstName,\r\n      lastName: lastName,\r\n      email: email,\r\n      password: password,\r\n    };\r\n\r\n    fetch(ip + \"/signup\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(requestBody),\r\n    })\r\n      .then((res) => {\r\n        if (!(res.status === 200 || res.status === 201)) {\r\n          setSeverity(\"error\");\r\n          setAlertMsg(\"Sign up failed! User exists.\");\r\n          setOpen(true);\r\n          throw new Error(\"failed!\");\r\n        }\r\n        return res.json();\r\n      })\r\n      .then((resBody) => {\r\n        setSeverity(\"success\");\r\n        setAlertMsg(\"User successfuly created.\");\r\n        setOpen(true);\r\n      })\r\n      .catch((err) => {\r\n        setSeverity(\"error\");\r\n        setAlertMsg(\"Sign up failed! User exists.\");\r\n        setOpen(true);\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <Snackbar\r\n        anchorOrigin={{ vertical: \"bottom\", horizontal: \"left\" }}\r\n        open={snackOpen}\r\n        autoHideDuration={3000}\r\n        onClose={snackClose}\r\n      >\r\n        <Alert\r\n          elevation={6}\r\n          variant=\"filled\"\r\n          onClose={snackClose}\r\n          severity={severity}\r\n        >\r\n          {alertMsg}\r\n        </Alert>\r\n      </Snackbar>\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Avatar className={classes.avatar}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Sign up\r\n        </Typography>\r\n        <form className={classes.form} noValidate onSubmit={submitHandler}>\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                autoComplete=\"fname\"\r\n                name=\"firstName\"\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"firstName\"\r\n                label=\"First Name\"\r\n                autoFocus\r\n                value={firstName}\r\n                onChange={(event) => {\r\n                  setFirstName(event.target.value);\r\n                }}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"lastName\"\r\n                label=\"Last Name\"\r\n                name=\"lastName\"\r\n                autoComplete=\"lname\"\r\n                value={lastName}\r\n                onChange={(event) => {\r\n                  setLastName(event.target.value);\r\n                }}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"username\"\r\n                label=\"Username\"\r\n                name=\"username\"\r\n                autoComplete=\"username\"\r\n                value={username}\r\n                onChange={(event) => {\r\n                  setUsrname(event.target.value);\r\n                }}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"email\"\r\n                label=\"Email Address\"\r\n                name=\"email\"\r\n                autoComplete=\"email\"\r\n                value={email}\r\n                onChange={(event) => {\r\n                  setEmail(event.target.value);\r\n                }}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                name=\"password\"\r\n                label=\"Password\"\r\n                type=\"password\"\r\n                id=\"password\"\r\n                autoComplete=\"current-password\"\r\n                value={password}\r\n                onChange={(event) => {\r\n                  setPassword(event.target.value);\r\n                }}\r\n              />\r\n            </Grid>\r\n            {/* <Grid item xs={12}>\r\n              <FormControlLabel\r\n                control={<Checkbox value=\"allowExtraEmails\" color=\"primary\" />}\r\n                label=\"I want to receive inspiration, marketing promotions and updates via email.\"\r\n              />\r\n            </Grid> */}\r\n          </Grid>\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.submit}\r\n          >\r\n            Sign Up\r\n          </Button>\r\n          <Grid container justify=\"flex-end\">\r\n            <Grid item>\r\n              <Link component={RouterLink} to=\"/signin\" variant=\"body2\">\r\n                Already have an account? Sign in\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n      </div>\r\n      <Box mt={5}>\r\n        <Copyright />\r\n      </Box>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default SignUp;\r\n","import React, { useContext, useState } from \"react\";\r\nimport {\r\n  makeStyles,\r\n  Card,\r\n  CardHeader,\r\n  CardMedia,\r\n  CardContent,\r\n  CardActions,\r\n  Avatar,\r\n  IconButton,\r\n  Menu,\r\n  MenuItem,\r\n  Typography,\r\n  Divider,\r\n} from \"@material-ui/core\";\r\nimport {\r\n  Favorite as FavoriteIcon,\r\n  //Share as ShareIcon,\r\n  MoreVert as MoreVertIcon,\r\n} from \"@material-ui/icons\";\r\nimport { red } from \"@material-ui/core/colors\";\r\n\r\nimport { AuthContext } from \"../Context/auth-context\";\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  root: {\r\n    marginBottom: \"25px\",\r\n  },\r\n  avatar: {\r\n    backgroundColor: red[500],\r\n  },\r\n}));\r\n\r\nconst Post = ({\r\n  id,\r\n  username,\r\n  avatarImage,\r\n  authorName,\r\n  postDate,\r\n  media,\r\n  mediaType,\r\n  caption,\r\n  liked,\r\n  likeCount,\r\n  updater,\r\n}) => {\r\n  const classes = useStyles();\r\n\r\n  const { token, userId, ip } = useContext(AuthContext);\r\n\r\n  const [like, setLike] = useState(liked);\r\n  const [menuAnchor, setMenuAnchor] = useState(null);\r\n  const [count, setCount] = useState(likeCount);\r\n\r\n  const handleMenuClick = (event) => {\r\n    setMenuAnchor(event.currentTarget);\r\n  };\r\n\r\n  const handleDelete = (event) => {\r\n    fetch(ip + \"/posts/delete/\" + id, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        Authorization: \"Bearer \" + token,\r\n      },\r\n    })\r\n      .then(() => {\r\n        handleMenuClose();\r\n        updater();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const handleMenuClose = () => {\r\n    setMenuAnchor(null);\r\n  };\r\n\r\n  const likeHandle = () => {\r\n    if (like) {\r\n      fetch(ip + \"/posts/dislike/\" + id, {\r\n        method: \"GET\",\r\n        headers: {\r\n          Authorization: \"Bearer \" + token,\r\n        },\r\n      })\r\n        .then(() => {\r\n          setLike(false);\r\n          setCount(count - 1);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    } else {\r\n      fetch(ip + \"/posts/like/\" + id, {\r\n        method: \"GET\",\r\n        headers: {\r\n          Authorization: \"Bearer \" + token,\r\n        },\r\n      })\r\n        .then(() => {\r\n          setLike(true);\r\n          setCount(count + 1);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Card className={classes.root}>\r\n      <CardHeader\r\n        avatar={\r\n          <Avatar alt={authorName} src={avatarImage} className={classes.avatar}>\r\n            {authorName[0]}\r\n          </Avatar>\r\n        }\r\n        action={\r\n          username === userId && (\r\n            <React.Fragment>\r\n              <IconButton\r\n                aria-label=\"settings\"\r\n                aria-controls=\"more-menu\"\r\n                aria-haspopup=\"true\"\r\n                onClick={handleMenuClick}\r\n              >\r\n                <MoreVertIcon />\r\n              </IconButton>\r\n              <Menu\r\n                id=\"more-menu\"\r\n                anchorEl={menuAnchor}\r\n                keepMounted\r\n                open={Boolean(menuAnchor)}\r\n                onClose={handleMenuClose}\r\n                PaperProps={{\r\n                  style: {\r\n                    // maxHeight: ITEM_HEIGHT * 2.5,\r\n                    width: \"20ch\",\r\n                  },\r\n                }}\r\n              >\r\n                <MenuItem key=\"delete\" selected={false} onClick={handleDelete}>\r\n                  delete\r\n                </MenuItem>\r\n              </Menu>\r\n            </React.Fragment>\r\n          )\r\n        }\r\n        title={authorName}\r\n        subheader={new Date(postDate).toLocaleString(undefined, {\r\n          dateStyle: \"medium\",\r\n          timeStyle: \"short\",\r\n          hourCycle: \"h23\",\r\n        })}\r\n      />\r\n      <Divider />\r\n      {mediaType && <CardMedia component={mediaType} controls src={media} />}\r\n      <CardContent>\r\n        <Typography variant=\"body2\" component=\"p\">\r\n          {caption}\r\n        </Typography>\r\n      </CardContent>\r\n      <CardActions disableSpacing>\r\n        <IconButton onClick={likeHandle} aria-label=\"Like\">\r\n          <FavoriteIcon style={{ color: like && red[600] }} />\r\n          {count}\r\n        </IconButton>\r\n        {/* <IconButton aria-label=\"share\">\r\n          <ShareIcon />\r\n        </IconButton> */}\r\n      </CardActions>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default Post;\r\n","import React, { useState, useContext } from \"react\";\r\nimport {\r\n  Card,\r\n  makeStyles,\r\n  TextField,\r\n  CardActions,\r\n  CardHeader,\r\n  IconButton,\r\n  Button,\r\n  Grid,\r\n  CardMedia,\r\n} from \"@material-ui/core\";\r\nimport { AttachFile, Send } from \"@material-ui/icons\";\r\nimport { AuthContext } from \"../Context/auth-context\";\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  root: {\r\n    marginBottom: \"25px\",\r\n  },\r\n  textfield: {\r\n    width: \"90%\",\r\n    marginLeft: \"5%\",\r\n  },\r\n  input: {\r\n    display: \"none\",\r\n  },\r\n  media: {\r\n    marginBottom: \"10px\",\r\n  },\r\n}));\r\n\r\nconst Compose = ({ updater }) => {\r\n  const classes = useStyles();\r\n  const { token, userId, ip } = useContext(AuthContext);\r\n  const [caption, setCaption] = useState(\"\");\r\n  const [activeSend, setActiveSend] = useState(false);\r\n  const [file, setFile] = useState(null);\r\n  const [fileSrc, setFileSrc] = useState(null);\r\n  const reader = new FileReader();\r\n\r\n  const handleCaption = (event) => {\r\n    if (event.target.value !== \"\" || file) {\r\n      setActiveSend(true);\r\n    } else {\r\n      setActiveSend(false);\r\n    }\r\n    setCaption(event.target.value);\r\n  };\r\n\r\n  const handleFile = (event) => {\r\n    const selectedFile = event.target.files[0];\r\n    if (selectedFile) {\r\n      setFile(selectedFile);\r\n      setActiveSend(true);\r\n\r\n      reader.onload = (event) => {\r\n        setFileSrc(event.target.result);\r\n      };\r\n      reader.readAsDataURL(selectedFile);\r\n    }\r\n  };\r\n\r\n  const submitHandler = (event) => {\r\n    event.preventDefault();\r\n    const formData = new FormData();\r\n    formData.append(\"postmedia\", file);\r\n    formData.append(\"text\", caption);\r\n    formData.append(\"username\", userId);\r\n\r\n    fetch(ip + \"/posts\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        Authorization: \"Bearer \" + token,\r\n      },\r\n      body: formData,\r\n    })\r\n      .then((res) => {\r\n        if (!(res.status === 200 || res.status === 201)) {\r\n          throw new Error(res.status);\r\n        }\r\n        return res.json();\r\n      })\r\n      .then((resBody) => {\r\n        console.log(resBody);\r\n        updater();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n\r\n    setCaption(\"\");\r\n    setFile(null);\r\n    setFileSrc(null);\r\n  };\r\n\r\n  return (\r\n    <Card className={classes.root}>\r\n      <CardHeader />\r\n      {file && (\r\n        <CardMedia\r\n          className={classes.media}\r\n          component={file.type.split(\"/\")[0] === \"image\" ? \"img\" : \"video\"}\r\n          controls\r\n          src={fileSrc}\r\n        />\r\n      )}\r\n      <form noValidate autoComplete=\"off\">\r\n        <TextField\r\n          className={classes.textfield}\r\n          id=\"post-text\"\r\n          color=\"secondary\"\r\n          placeholder=\"What's happening?\"\r\n          multiline\r\n          onChange={handleCaption}\r\n          value={caption}\r\n        />\r\n        <CardActions justify=\"flex-end\" disableSpacing>\r\n          <Grid container justify=\"flex-end\">\r\n            <Grid item>\r\n              <input\r\n                className={classes.input}\r\n                accept=\"image/*,video/*\"\r\n                id=\"upload-btn\"\r\n                type=\"file\"\r\n                onChange={handleFile}\r\n              />\r\n              <label htmlFor=\"upload-btn\">\r\n                <IconButton component=\"span\">\r\n                  <AttachFile />\r\n                </IconButton>\r\n              </label>\r\n              <Button\r\n                aria-label=\"send-btn\"\r\n                onClick={submitHandler}\r\n                disabled={!activeSend}\r\n                variant=\"outlined\"\r\n                endIcon={<Send />}\r\n              >\r\n                Post\r\n              </Button>\r\n            </Grid>\r\n          </Grid>\r\n        </CardActions>\r\n      </form>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default Compose;\r\n","import React, { useContext, useState } from \"react\";\r\nimport { Container, Box, Typography } from \"@material-ui/core\";\r\n\r\nimport Post from \"../Components/Post\";\r\nimport Compose from \"../Components/Compose\";\r\nimport { AuthContext } from \"../Context/auth-context\";\r\n\r\n// const posts = [\r\n//   {\r\n//     id: 1,\r\n//     avatarImage: null,\r\n//     authorName: \"Random Guy\",\r\n//     postDate: \"September 14, 2016\",\r\n//     media: \"https://material-ui.com/static/images/cards/paella.jpg\",\r\n//     mediaType: \"img\",\r\n//     caption: `This impressive paella is a perfect party dish and a fun meal to cook\r\n//           together with your guests. Add 1 cup of frozen peas along with the\r\n//           mussels, if you like.`,\r\n//     liked: true,\r\n//   },\r\n//   {\r\n//     id: 2,\r\n//     avatarImage: null,\r\n//     authorName: \"Jackie Chan\",\r\n//     postDate: \"September 18, 2018\",\r\n//     media: null,\r\n//     mediaType: null,\r\n//     caption: `what's up mfs?!`,\r\n//     liked: false,\r\n//   },\r\n//   {\r\n//     id: 3,\r\n//     avatarImage: null,\r\n//     authorName: \"Dutch Van Der Linde\",\r\n//     postDate: \"September 18, 2018\",\r\n//     media: null,\r\n//     mediaType: null,\r\n//     caption: `John, you're my son!`,\r\n//     liked: false,\r\n//   },\r\n// ];\r\n\r\nconst Feeds = () => {\r\n  const { token, userId, ip } = useContext(AuthContext);\r\n\r\n  const [posts, setPosts] = useState([]);\r\n\r\n  if (posts.length === 0) {\r\n    fetch(ip + \"/posts/feed\", {\r\n      method: \"GET\",\r\n      headers: {\r\n        Authorization: \"Bearer \" + token,\r\n      },\r\n    })\r\n      .then((res) => {\r\n        if (!(res.status === 200 || res.status === 201)) {\r\n          throw new Error(\"failed!\");\r\n        }\r\n        return res.json();\r\n      })\r\n      .then((resBody) => {\r\n        if (resBody.length !== 0) {\r\n          setPosts(resBody);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  const updater = () => {\r\n    setPosts([]);\r\n  };\r\n\r\n  const cards =\r\n    posts.length !== 0 ? (\r\n      posts.map((post) => {\r\n        return (\r\n          <Post\r\n            id={post.post._id}\r\n            key={post.post._id}\r\n            username={post.post.username}\r\n            avatarImage={ip + \"/\" + post.avatar}\r\n            authorName={post.name}\r\n            postDate={post.post.date}\r\n            media={ip + \"/\" + post.post.media}\r\n            mediaType={\r\n              post.post.mediatype === \"image\" ? \"img\" : post.post.mediatype\r\n            }\r\n            caption={post.post.text}\r\n            liked={post.post.likes.includes(userId) ? true : false}\r\n            likeCount={post.post.likes.length}\r\n            updater={updater}\r\n          />\r\n        );\r\n      })\r\n    ) : (\r\n      <Box marginBottom=\"2rem\" marginTop=\"2rem\">\r\n        <Typography align=\"center\" color=\"textSecondary\" variant=\"h4\">\r\n          No posts yet!\r\n        </Typography>\r\n      </Box>\r\n    );\r\n\r\n  return (\r\n    <Container maxWidth=\"sm\">\r\n      <Compose updater={updater} />\r\n      {cards}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Feeds;\r\n","import React, { useContext, useState } from \"react\";\r\nimport {\r\n  Button,\r\n  Container,\r\n  TextField,\r\n  Avatar,\r\n  makeStyles,\r\n  Divider,\r\n  Box,\r\n} from \"@material-ui/core\";\r\n\r\nimport { AuthContext } from \"../Context/auth-context\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  avatar: {\r\n    width: theme.spacing(5),\r\n    height: theme.spacing(5),\r\n    marginRight: \"0.5rem\",\r\n  },\r\n  button: {\r\n    justifyContent: \"left\",\r\n  },\r\n}));\r\n\r\nconst Items = ({ value, link, image }) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Button className={classes.button} color=\"default\" fullWidth href={link}>\r\n      <Avatar src={image} className={classes.avatar} />\r\n      {value}\r\n    </Button>\r\n  );\r\n};\r\n\r\nconst RequestItems = ({ name }) => {\r\n  const { token, ip } = useContext(AuthContext);\r\n\r\n  const acceptHandle = () => {\r\n    fetch(ip + \"/reqac/\" + name, {\r\n      method: \"POST\",\r\n      headers: {\r\n        Authorization: \"Bearer \" + token,\r\n      },\r\n    })\r\n      .then((res) => {\r\n        if (!(res.status === 200 || res.status === 201)) {\r\n          throw new Error(\"failed!\");\r\n        }\r\n        return res.json();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const denyHandle = () => {\r\n    fetch(ip + \"/reqden/\" + name, {\r\n      method: \"POST\",\r\n      headers: {\r\n        Authorization: \"Bearer \" + token,\r\n      },\r\n    })\r\n      .then((res) => {\r\n        if (!(res.status === 200 || res.status === 201)) {\r\n          throw new Error(\"failed!\");\r\n        }\r\n        return res.json();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <Box paddingLeft=\"1rem\">\r\n      {name}\r\n      <Button onClick={acceptHandle}>accept</Button>\r\n      <Button onClick={denyHandle}>deny</Button>\r\n    </Box>\r\n  );\r\n};\r\n\r\nconst Search = () => {\r\n  const [searchValue, setSearchValue] = useState(\"\");\r\n  const [list, setList] = useState([]);\r\n  const [reqs, setReqs] = useState([]);\r\n\r\n  const { userId, ip } = useContext(AuthContext);\r\n\r\n  setTimeout(() => {\r\n    fetch(ip + \"/\" + userId, {\r\n      method: \"GET\",\r\n    })\r\n      .then((res) => {\r\n        if (!(res.status === 200 || res.status === 201 || res.status === 304)) {\r\n          throw new Error(\"failed!\");\r\n        }\r\n        return res.json();\r\n      })\r\n      .then((resBody) => {\r\n        const requests = resBody.requests;\r\n        setReqs(\r\n          requests.map((user, index) => {\r\n            return <RequestItems key={index} name={user} />;\r\n          })\r\n        );\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }, 2000);\r\n\r\n  const handleSearch = (event) => {\r\n    const input = event.target.value;\r\n    setSearchValue(input);\r\n\r\n    if (input !== \"\") {\r\n      fetch(ip + \"/search/\" + input, {\r\n        method: \"GET\",\r\n      })\r\n        .then((res) => {\r\n          if (!(res.status === 200 || res.status === 201)) {\r\n            throw new Error(\"failed!\");\r\n          }\r\n          return res.json();\r\n        })\r\n        .then((resBody) => {\r\n          setList(\r\n            resBody.map((user) => {\r\n              return (\r\n                <Items\r\n                  key={user._id}\r\n                  value={user.firstName + \" \" + user.lastName}\r\n                  link={\"http://localhost:3000/\" + user.username}\r\n                  image={user.avatar}\r\n                />\r\n              );\r\n            })\r\n          );\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    } else {\r\n      setList([]);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container maxWidth=\"sm\">\r\n      <TextField\r\n        variant=\"outlined\"\r\n        margin=\"normal\"\r\n        fullWidth\r\n        id=\"search\"\r\n        label=\"Search\"\r\n        name=\"search\"\r\n        autoComplete=\"search\"\r\n        value={searchValue}\r\n        onChange={handleSearch}\r\n      />\r\n      {reqs}\r\n      <Divider />\r\n      {list}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Search;\r\n","import React, { useContext, useState } from \"react\";\r\nimport {\r\n  makeStyles,\r\n  Card,\r\n  CardHeader,\r\n  CardContent,\r\n  Avatar,\r\n  Typography,\r\n  Divider,\r\n  Container,\r\n  Grid,\r\n  Link,\r\n  Menu,\r\n  MenuItem,\r\n  Box,\r\n  Button,\r\n} from \"@material-ui/core\";\r\n\r\nimport Post from \"../Components/Post\";\r\nimport { AuthContext } from \"../Context/auth-context\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    marginBottom: \"25px\",\r\n    boxShadow: \"none\",\r\n  },\r\n  avatar: {\r\n    width: theme.spacing(10),\r\n    height: theme.spacing(10),\r\n  },\r\n  gridItem: {\r\n    textAlign: \"center\",\r\n    cursor: \"pointer\",\r\n  },\r\n  link: {\r\n    fontSize: \"0.6rem\",\r\n  },\r\n}));\r\nvar recent = 0;\r\nsetInterval(() => {\r\n  // console.log(\"reset\");\r\n  recent = 0;\r\n}, 2000);\r\n\r\nconst Profile = ({ match }) => {\r\n  const classes = useStyles();\r\n\r\n  const { token, userId, ip } = useContext(AuthContext);\r\n\r\n  const [avatar, setAvatar] = useState(null);\r\n  const [name, setName] = useState(\"\");\r\n  const [posts, setPosts] = useState([]);\r\n  const [reqs, setReqs] = useState([]);\r\n  const [follower, setFollower] = useState([]);\r\n  const [following, setFollowing] = useState([]);\r\n  const [followingState, setFollowingState] = useState(\"Follow\");\r\n  const [followingMenuAnchor, setFollowingMenuAnchor] = useState(null);\r\n  const [followerMenuAnchor, setFollowerMenuAnchor] = useState(null);\r\n\r\n  const handleFollowing = (event) => {\r\n    setFollowingMenuAnchor(event.currentTarget);\r\n  };\r\n  const handleFollowers = (event) => {\r\n    setFollowerMenuAnchor(event.currentTarget);\r\n  };\r\n  const handleFollowingMenuClose = () => {\r\n    setFollowingMenuAnchor(null);\r\n  };\r\n  const handleFollowerMenuClose = () => {\r\n    setFollowerMenuAnchor(null);\r\n  };\r\n\r\n  const fetchData = () => {\r\n    fetch(ip + \"/\" + (match ? match.params.username : userId), {\r\n      method: \"GET\",\r\n    })\r\n      .then((res) => {\r\n        if (!(res.status === 200 || res.status === 201 || res.status === 304)) {\r\n          throw new Error(\"failed!\");\r\n        }\r\n        return res.json();\r\n      })\r\n      .then((resBody) => {\r\n        const followers = resBody.followers;\r\n        setReqs(resBody.requests);\r\n        setAvatar(resBody.avatar ? ip + \"/\" + resBody.avatar : null);\r\n        setName(resBody.firstName + \" \" + resBody.lastName);\r\n        setFollower(followers);\r\n        setFollowing(resBody.followings);\r\n\r\n        if (!reqs.includes(userId) && !followers.includes(userId)) {\r\n          setFollowingState(\"Follow\");\r\n        } else if (!reqs.includes(userId) && followers.includes(userId)) {\r\n          setFollowingState(\"Unfollow\");\r\n        } else if (reqs.includes(userId)) {\r\n          setFollowingState(\"Request sent\");\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n\r\n    fetch(ip + \"/posts/userposts/\" + (match ? match.params.username : userId), {\r\n      method: \"GET\",\r\n      headers: {\r\n        Authorization: \"Bearer \" + token,\r\n      },\r\n    })\r\n      .then((res) => {\r\n        if (!(res.status === 200 || res.status === 201 || res.status === 304)) {\r\n          throw new Error(\"failed!\");\r\n        }\r\n        return res.json();\r\n      })\r\n      .then((resBody) => {\r\n        setPosts(resBody);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  setTimeout(() => {\r\n    // console.log(recent);\r\n    if (recent === 0) {\r\n      recent = 1;\r\n      fetch(ip + \"/\" + (match ? match.params.username : userId), {\r\n        method: \"GET\",\r\n      })\r\n        .then((res) => {\r\n          if (\r\n            !(res.status === 200 || res.status === 201 || res.status === 304)\r\n          ) {\r\n            throw new Error(\"failed!\");\r\n          }\r\n          return res.json();\r\n        })\r\n        .then((resBody) => {\r\n          const reqs = resBody.requests;\r\n          const followers = resBody.followers;\r\n          setFollower(followers);\r\n          setFollowing(resBody.followings);\r\n\r\n          if (!reqs.includes(userId) && !followers.includes(userId)) {\r\n            setFollowingState(\"Follow\");\r\n          } else if (!reqs.includes(userId) && followers.includes(userId)) {\r\n            setFollowingState(\"Unfollow\");\r\n          } else if (reqs.includes(userId)) {\r\n            setFollowingState(\"Request sent\");\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    }\r\n  }, 2000);\r\n\r\n  if (name === \"\") {\r\n    fetchData();\r\n  }\r\n\r\n  const req = () => {\r\n    const id = match.params.username;\r\n    fetch(ip + \"/req/\" + id, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + token,\r\n      },\r\n    })\r\n      .then((res) => {\r\n        if (!(res.status === 200 || res.status === 201)) {\r\n          throw new Error(\"failed!\");\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const unfriend = () => {\r\n    const id = match.params.username;\r\n    fetch(ip + \"/unfriend/\" + id, {\r\n      method: \"POST\",\r\n      headers: {\r\n        Authorization: \"Bearer \" + token,\r\n      },\r\n    })\r\n      .then((res) => {\r\n        if (!(res.status === 200 || res.status === 201)) {\r\n          throw new Error(\"failed!\");\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const unreq = () => {\r\n    const id = match.params.username;\r\n    fetch(ip + \"/unreq/\" + id, {\r\n      method: \"POST\",\r\n      headers: {\r\n        Authorization: \"Bearer \" + token,\r\n      },\r\n    })\r\n      .then((res) => {\r\n        if (!(res.status === 200 || res.status === 201)) {\r\n          throw new Error(\"failed!\");\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const followHandle = () => {\r\n    if (followingState === \"Unfollow\") {\r\n      setFollowingState(\"Follow\");\r\n      unfriend();\r\n    } else if (followingState === \"Follow\") {\r\n      setFollowingState(\"Request sent\");\r\n      req();\r\n    } else if (followingState === \"Request sent\") {\r\n      setFollowingState(\"Follow\");\r\n      unreq();\r\n    }\r\n  };\r\n\r\n  const updater = () => {\r\n    fetchData();\r\n  };\r\n\r\n  const listOfPosts = posts.map((post) => {\r\n    return (\r\n      <Post\r\n        id={post._id}\r\n        key={post._id}\r\n        username={post.username}\r\n        avatarImage={avatar}\r\n        authorName={name}\r\n        postDate={post.date}\r\n        media={ip + \"/\" + post.media}\r\n        mediaType={post.mediatype === \"image\" ? \"img\" : post.mediatype}\r\n        caption={post.text}\r\n        liked={post.likes.includes(userId) ? true : false}\r\n        likeCount={post.likes.length}\r\n        updater={updater}\r\n      />\r\n    );\r\n  });\r\n\r\n  return (\r\n    <Container maxWidth=\"sm\">\r\n      <Card className={classes.root}>\r\n        <CardHeader\r\n          title={match ? match.params.username : userId}\r\n          subheader={name}\r\n        />\r\n        <CardContent>\r\n          <Grid container alignItems=\"center\" spacing={2}>\r\n            <Grid className={classes.gridItem} item xs={3}>\r\n              <Box\r\n                display=\"flex\"\r\n                flexDirection=\"column\"\r\n                justifyContent=\"center\"\r\n                alignItems=\"center\"\r\n              >\r\n                <Avatar src={avatar} className={classes.avatar} />\r\n              </Box>\r\n            </Grid>\r\n            <Grid\r\n              className={classes.gridItem}\r\n              item\r\n              xs={3}\r\n              style={{ cursor: \"default\" }}\r\n            >\r\n              <Link\r\n                className={classes.link}\r\n                component=\"p\"\r\n                color=\"textPrimary\"\r\n                variant=\"button\"\r\n                underline=\"none\"\r\n              >\r\n                Posts\r\n              </Link>\r\n              <Typography variant=\"subtitle2\">{posts.length}</Typography>\r\n            </Grid>\r\n            <Grid\r\n              className={classes.gridItem}\r\n              item\r\n              xs={3}\r\n              aria-haspopup=\"true\"\r\n              aria-controls=\"followerList\"\r\n              onClick={handleFollowers}\r\n            >\r\n              <Link\r\n                className={classes.link}\r\n                component=\"p\"\r\n                color=\"textPrimary\"\r\n                variant=\"button\"\r\n                underline=\"none\"\r\n              >\r\n                Followers\r\n              </Link>\r\n              <Typography variant=\"subtitle2\">{follower.length}</Typography>\r\n            </Grid>\r\n            <Menu\r\n              id=\"followerList\"\r\n              anchorEl={followerMenuAnchor}\r\n              keepMounted\r\n              open={Boolean(followerMenuAnchor)}\r\n              onClose={handleFollowerMenuClose}\r\n              PaperProps={{\r\n                style: {\r\n                  // maxHeight: ITEM_HEIGHT * 2.5,\r\n                  minWidth: \"20ch\",\r\n                },\r\n              }}\r\n            >\r\n              {follower.length !== 0 ? (\r\n                follower.map((element, index) => {\r\n                  return (\r\n                    <MenuItem key={index} selected={false}>\r\n                      <Link\r\n                        href={\"http://localhost:3000/\" + element}\r\n                        // component=\"button\"\r\n                        color=\"textPrimary\"\r\n                        variant=\"button\"\r\n                        underline=\"none\"\r\n                      >\r\n                        {element}\r\n                      </Link>\r\n                    </MenuItem>\r\n                  );\r\n                })\r\n              ) : (\r\n                <MenuItem selected={false} disabled>\r\n                  <Link\r\n                    disabled\r\n                    href=\"#\"\r\n                    component=\"p\"\r\n                    color=\"textSecondary\"\r\n                    variant=\"button\"\r\n                    underline=\"none\"\r\n                  >\r\n                    ♫ Lonely, I'm Mr. Lonely~ ♫\r\n                  </Link>\r\n                </MenuItem>\r\n              )}\r\n            </Menu>\r\n            <Grid\r\n              className={classes.gridItem}\r\n              item\r\n              xs={3}\r\n              aria-haspopup=\"true\"\r\n              aria-controls=\"followingList\"\r\n              onClick={handleFollowing}\r\n            >\r\n              <Link\r\n                className={classes.link}\r\n                component=\"button\"\r\n                color=\"textPrimary\"\r\n                variant=\"button\"\r\n                underline=\"none\"\r\n              >\r\n                Following\r\n              </Link>\r\n              <Typography variant=\"subtitle2\">{following.length}</Typography>\r\n            </Grid>\r\n            <Menu\r\n              id=\"followingList\"\r\n              anchorEl={followingMenuAnchor}\r\n              keepMounted\r\n              open={Boolean(followingMenuAnchor)}\r\n              onClose={handleFollowingMenuClose}\r\n              PaperProps={{\r\n                style: {\r\n                  // maxHeight: ITEM_HEIGHT * 2.5,\r\n                  minWidth: \"20ch\",\r\n                },\r\n              }}\r\n            >\r\n              {following.length !== 0 ? (\r\n                following.map((element, index) => {\r\n                  return (\r\n                    <MenuItem key={index} selected={false}>\r\n                      <Link\r\n                        href={\"http://localhost:3000/\" + element}\r\n                        // component=\"button\"\r\n                        color=\"textPrimary\"\r\n                        variant=\"button\"\r\n                        underline=\"none\"\r\n                      >\r\n                        {element}\r\n                      </Link>\r\n                    </MenuItem>\r\n                  );\r\n                })\r\n              ) : (\r\n                <MenuItem selected={false} disabled>\r\n                  <Link\r\n                    disabled\r\n                    href=\"#\"\r\n                    component=\"p\"\r\n                    color=\"textSecondary\"\r\n                    variant=\"button\"\r\n                    underline=\"none\"\r\n                  >\r\n                    ♫ I have nobody for my own~ ♫\r\n                  </Link>\r\n                </MenuItem>\r\n              )}\r\n            </Menu>\r\n          </Grid>\r\n          {match && token && match.params.username !== userId && (\r\n            <Button\r\n              style={{ marginTop: \"1rem\" }}\r\n              color=\"secondary\"\r\n              fullWidth\r\n              variant=\"outlined\"\r\n              onClick={followHandle}\r\n            >\r\n              {followingState}\r\n            </Button>\r\n          )}\r\n        </CardContent>\r\n      </Card>\r\n      <Divider />\r\n      {listOfPosts.length === 0 ? (\r\n        <Box marginTop=\"2rem\">\r\n          <Typography align=\"center\" color=\"textSecondary\" variant=\"h4\">\r\n            No posts yet!\r\n          </Typography>\r\n        </Box>\r\n      ) : (\r\n        listOfPosts\r\n      )}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import React, { useContext, useState } from \"react\";\r\nimport {\r\n  Container,\r\n  Card,\r\n  CardContent,\r\n  Box,\r\n  Avatar,\r\n  makeStyles,\r\n  CardHeader,\r\n  TextField,\r\n  Button,\r\n  Snackbar,\r\n} from \"@material-ui/core\";\r\nimport { Alert } from \"@material-ui/lab\";\r\n\r\nimport { AuthContext } from \"../Context/auth-context\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  avatar: {\r\n    width: theme.spacing(10),\r\n    height: theme.spacing(10),\r\n    marginBottom: \"0.5rem\",\r\n  },\r\n  gridItem: {\r\n    textAlign: \"center\",\r\n  },\r\n  input: {\r\n    display: \"none\",\r\n  },\r\n}));\r\n\r\nconst Settings = () => {\r\n  const classes = useStyles();\r\n\r\n  const [avatar, setAvatar] = useState(\"\");\r\n  const [firstName, setFirstName] = useState(\"\");\r\n  const [lastName, setLastName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [file, setFile] = useState(null);\r\n  const [snackOpen, setOpen] = useState(false);\r\n  const [severity, setSeverity] = useState(\"\");\r\n  const [alertMsg, setAlertMsg] = useState(\"\");\r\n\r\n  const { token, userId, logout, ip } = useContext(AuthContext);\r\n\r\n  const firstLoad = () => {\r\n    fetch(ip + \"/uinfo/\" + userId, {\r\n      method: \"GET\",\r\n      headers: {\r\n        Authorization: \"Bearer \" + token,\r\n      },\r\n    })\r\n      .then((res) => {\r\n        if (!(res.status === 200 || res.status === 201 || res.status === 304)) {\r\n          throw new Error(\"failed!\");\r\n        }\r\n        return res.json();\r\n      })\r\n      .then((resBody) => {\r\n        setAvatar(ip + \"/\" + resBody.avatar);\r\n        setFirstName(resBody.firstName);\r\n        setLastName(resBody.lastName);\r\n        setEmail(resBody.email);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  if (email === \"\") {\r\n    firstLoad();\r\n  }\r\n\r\n  const reader = new FileReader();\r\n\r\n  const handleFile = (event) => {\r\n    const selectedFile = event.target.files[0];\r\n    if (selectedFile) {\r\n      setFile(selectedFile);\r\n\r\n      reader.onload = (event) => {\r\n        setAvatar(event.target.result);\r\n      };\r\n      reader.readAsDataURL(selectedFile);\r\n    }\r\n  };\r\n\r\n  const updateInfo = () => {\r\n    const requestBody = [\r\n      { propName: \"firstName\", value: firstName },\r\n      { propName: \"lastName\", value: lastName },\r\n      { propName: \"email\", value: email },\r\n    ];\r\n\r\n    fetch(ip + \"/uinfo/\" + userId, {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + token,\r\n      },\r\n      body: JSON.stringify(requestBody),\r\n    })\r\n      .then((res) => {\r\n        if (!(res.status === 200 || res.status === 201)) {\r\n          throw new Error(\"failed!\");\r\n        }\r\n      })\r\n      .then(() => {\r\n        setSeverity(\"success\");\r\n        setAlertMsg(\"Updates Saved!\");\r\n        setOpen(true);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        setSeverity(\"error\");\r\n        setAlertMsg(\"Update failed!\");\r\n        setOpen(true);\r\n      });\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"avatarImg\", file);\r\n\r\n    fetch(ip + \"/avatarup/\" + userId, {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        Authorization: \"Bearer \" + token,\r\n      },\r\n      body: formData,\r\n    })\r\n      .then((res) => {\r\n        if (!(res.status === 200 || res.status === 201)) {\r\n          throw new Error(\"failed!\");\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const snackClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  return (\r\n    <Container\r\n      maxWidth=\"sm\"\r\n      style={{ paddingBottom: \"0.1rem\", marginBottom: \"1.5rem\" }}\r\n    >\r\n      <Snackbar\r\n        anchorOrigin={{ vertical: \"bottom\", horizontal: \"left\" }}\r\n        open={snackOpen}\r\n        autoHideDuration={3000}\r\n        onClose={snackClose}\r\n      >\r\n        <Alert\r\n          elevation={6}\r\n          variant=\"filled\"\r\n          onClose={snackClose}\r\n          severity={severity}\r\n        >\r\n          {alertMsg}\r\n        </Alert>\r\n      </Snackbar>\r\n      <Card elevation={3}>\r\n        <CardHeader />\r\n        <form id=\"av-up\" noValidate autoComplete=\"off\">\r\n          <CardContent>\r\n            <Box\r\n              display=\"flex\"\r\n              flexDirection=\"column\"\r\n              justifyContent=\"center\"\r\n              alignItems=\"center\"\r\n            >\r\n              <Avatar src={avatar} className={classes.avatar} />\r\n              <input\r\n                className={classes.input}\r\n                accept=\"image/*\"\r\n                id=\"upload-btn\"\r\n                type=\"file\"\r\n                onChange={handleFile}\r\n              />\r\n              <label htmlFor=\"upload-btn\">\r\n                <Button variant=\"outlined\" component=\"span\">\r\n                  Choose profile image\r\n                </Button>\r\n              </label>\r\n            </Box>\r\n            <TextField\r\n              variant=\"outlined\"\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              id=\"firstname\"\r\n              label=\"Firstname\"\r\n              name=\"firstname\"\r\n              autoComplete=\"firstname\"\r\n              value={firstName}\r\n              onChange={(event) => {\r\n                setFirstName(event.target.value);\r\n              }}\r\n            />\r\n            <TextField\r\n              variant=\"outlined\"\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              id=\"lastname\"\r\n              label=\"Lastname\"\r\n              name=\"lastname\"\r\n              autoComplete=\"lastname\"\r\n              value={lastName}\r\n              onChange={(event) => {\r\n                setLastName(event.target.value);\r\n              }}\r\n            />\r\n            <TextField\r\n              variant=\"outlined\"\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              id=\"email\"\r\n              label=\"Email\"\r\n              name=\"email\"\r\n              autoComplete=\"email\"\r\n              value={email}\r\n              onChange={(event) => {\r\n                setEmail(event.target.value);\r\n              }}\r\n            />\r\n          </CardContent>\r\n          <Box\r\n            display=\"flex\"\r\n            flexDirection=\"row\"\r\n            justifyContent=\"center\"\r\n            alignItems=\"center\"\r\n            marginBottom=\"1rem\"\r\n          >\r\n            <Button color=\"secondary\" variant=\"outlined\" onClick={updateInfo}>\r\n              save profile\r\n            </Button>\r\n            <Button\r\n              style={{ marginLeft: \"0.5rem\" }}\r\n              color=\"default\"\r\n              variant=\"outlined\"\r\n              onClick={logout}\r\n            >\r\n              Logout\r\n            </Button>\r\n          </Box>\r\n        </form>\r\n      </Card>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Settings;\r\n","import React from \"react\";\r\nimport { makeStyles, Paper, Tabs, Tab, Container } from \"@material-ui/core\";\r\nimport {\r\n  Home as HomeIcon,\r\n  Search as SearchIcon,\r\n  PersonOutline as ProfileIcon,\r\n  Settings as SettingsIcon,\r\n} from \"@material-ui/icons\";\r\n\r\nimport Feeds from \"./Feeds\";\r\nimport Search from \"./Search\";\r\nimport Profile from \"./Profile\";\r\nimport Settings from \"./Settings\";\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  tab: {\r\n    maxWidth: \"25%\",\r\n    minWidth: 0,\r\n  },\r\n  tabRoot: {\r\n    minWidth: 0,\r\n    marginBottom: \"1rem\",\r\n  },\r\n});\r\n\r\nexport default function IconLabelTabs() {\r\n  const classes = useStyles();\r\n  const [value, setValue] = React.useState(0);\r\n\r\n  const pages = [<Feeds />, <Search />, <Profile />, <Settings />];\r\n\r\n  const handleChange = (event, newValue) => {\r\n    setValue(newValue);\r\n  };\r\n\r\n  return (\r\n    <Container maxWidth=\"sm\">\r\n      <Paper\r\n        elevation={0}\r\n        className={classes.root}\r\n        style={{ paddingBottom: \"0.1rem\", marginBottom: \"1.5rem\" }}\r\n      >\r\n        <Tabs\r\n          className={classes.tabRoot}\r\n          value={value}\r\n          onChange={handleChange}\r\n          variant=\"fullWidth\"\r\n          indicatorColor=\"secondary\"\r\n          textColor=\"secondary\"\r\n          aria-label=\"icon label tabs example\"\r\n        >\r\n          <Tab className={classes.tab} icon={<HomeIcon />} label=\"Home\" />\r\n          <Tab className={classes.tab} icon={<SearchIcon />} label=\"Search\" />\r\n          <Tab className={classes.tab} icon={<ProfileIcon />} label=\"Profile\" />\r\n          <Tab\r\n            className={classes.tab}\r\n            icon={<SettingsIcon />}\r\n            label=\"Settings\"\r\n          />\r\n        </Tabs>\r\n        {pages[value]}\r\n      </Paper>\r\n    </Container>\r\n  );\r\n}\r\n","import React, { useContext } from \"react\";\r\nimport { BrowserRouter, Route, Redirect, Switch } from \"react-router-dom\";\r\nimport { ThemeProvider } from \"@material-ui/styles\";\r\nimport { createMuiTheme } from \"@material-ui/core\";\r\n\r\nimport SignIn from \"./Pages/SignIn\";\r\nimport SignUp from \"./Pages/SignUp\";\r\nimport Home from \"./Pages/Home\";\r\nimport Profile from \"./Pages/Profile\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\n\r\nimport { AuthContext } from \"./Context/auth-context\";\r\n\r\nconst theme = createMuiTheme({\r\n  palette: {\r\n    type: \"dark\",\r\n    // background: \"ffffff\",\r\n  },\r\n});\r\n\r\nconst App = () => {\r\n  const { token } = useContext(AuthContext);\r\n\r\n  return (\r\n    <ThemeProvider theme={theme}>\r\n      <CssBaseline />\r\n      <BrowserRouter basename=\"/FaceAct\">\r\n        <Switch>\r\n          {!token && <Redirect from=\"/\" to=\"/signin\" exact />}\r\n          {!token && <Redirect from=\"/home\" to=\"/signin\" exact />}\r\n          {token && <Redirect from=\"/signin\" to=\"/home\" exact />}\r\n          {token && <Redirect from=\"/\" to=\"/home\" exact />}\r\n          {!token && <Route path=\"/signin\" component={SignIn} />}\r\n          {!token && <Route path=\"/signup\" component={SignUp} />}\r\n          {token && <Route path=\"/home\" component={Home} />}\r\n          <Route path=\"/:username\" component={Profile} />\r\n        </Switch>\r\n      </BrowserRouter>\r\n    </ThemeProvider>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\n\r\nimport AuthProvider from \"./Context/auth-context\";\r\n\r\nReactDOM.render(\r\n  <AuthProvider>\r\n    <App />\r\n  </AuthProvider>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}